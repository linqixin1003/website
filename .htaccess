RewriteEngine On

# 重定向规则：将 /knowledge/文章名.html?lang=语言 重定向到 /语言/knowledge/文章名.html
RewriteCond %{QUERY_STRING} ^lang=([a-z]{2})$
RewriteRule ^knowledge/(.+)\.html$ /%1/knowledge/$1.html? [R=301,L]

# 重定向规则：将 /birdwatching/文章名.html?lang=语言 重定向到 /语言/birdwatching/文章名.html
RewriteCond %{QUERY_STRING} ^lang=([a-z]{2})$
RewriteRule ^birdwatching/(.+)\.html$ /%1/birdwatching/$1.html? [R=301,L]

# 重定向规则：将 /pet-care/文章名.html?lang=语言 重定向到 /语言/pet-care/文章名.html
RewriteCond %{QUERY_STRING} ^lang=([a-z]{2})$
RewriteRule ^pet-care/(.+)\.html$ /%1/pet-care/$1.html? [R=301,L]

# 重定向规则：将 /ecology/文章名.html?lang=语言 重定向到 /语言/ecology/文章名.html
RewriteCond %{QUERY_STRING} ^lang=([a-z]{2})$
RewriteRule ^ecology/(.+)\.html$ /%1/ecology/$1.html? [R=301,L]

# 重定向规则：将 /scientific-wonders/文章名.html?lang=语言 重定向到 /语言/scientific-wonders/文章名.html
RewriteCond %{QUERY_STRING} ^lang=([a-z]{2})$
RewriteRule ^scientific-wonders/(.+)\.html$ /%1/scientific-wonders/$1.html? [R=301,L]

# 重定向规则：将 /rock-identification/文章名.html?lang=语言 重定向到 /语言/rock-identification/文章名.html
RewriteCond %{QUERY_STRING} ^lang=([a-z]{2})$
RewriteRule ^rock-identification/(.+)\.html$ /%1/rock-identification/$1.html? [R=301,L]

# 重定向规则：将 /rock-formation/文章名.html?lang=语言 重定向到 /语言/rock-formation/文章名.html
RewriteCond %{QUERY_STRING} ^lang=([a-z]{2})$
RewriteRule ^rock-formation/(.+)\.html$ /%1/rock-formation/$1.html? [R=301,L]

# 重定向规则：将 /rock-collecting/文章名.html?lang=语言 重定向到 /语言/rock-collecting/文章名.html
RewriteCond %{QUERY_STRING} ^lang=([a-z]{2})$
RewriteRule ^rock-collecting/(.+)\.html$ /%1/rock-collecting/$1.html? [R=301,L]

# 重定向规则：将 /rock-mineral-science/文章名.html?lang=语言 重定向到 /语言/rock-mineral-science/文章名.html
RewriteCond %{QUERY_STRING} ^lang=([a-z]{2})$
RewriteRule ^rock-mineral-science/(.+)\.html$ /%1/rock-mineral-science/$1.html? [R=301,L]

# 重定向规则：将主页面的语言参数重定向
RewriteCond %{QUERY_STRING} ^lang=([a-z]{2})$
RewriteRule ^knowledge\.html$ /%1/knowledge.html? [R=301,L]

RewriteCond %{QUERY_STRING} ^lang=([a-z]{2})$
RewriteRule ^birdwatching\.html$ /%1/birdwatching.html? [R=301,L]

RewriteCond %{QUERY_STRING} ^lang=([a-z]{2})$
RewriteRule ^pet-care\.html$ /%1/pet-care.html? [R=301,L]

RewriteCond %{QUERY_STRING} ^lang=([a-z]{2})$
RewriteRule ^ecology\.html$ /%1/ecology.html? [R=301,L]

RewriteCond %{QUERY_STRING} ^lang=([a-z]{2})$
RewriteRule ^scientific-wonders\.html$ /%1/scientific-wonders.html? [R=301,L]