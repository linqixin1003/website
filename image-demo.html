<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>图片使用示例 - BirdAiSnap</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="image-styles.css">
    <style>
        .demo-section {
            margin: 3rem 0;
            padding: 2rem;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .demo-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 1rem;
            border-bottom: 2px solid #667eea;
            padding-bottom: 0.5rem;
        }
        
        .demo-description {
            color: #666;
            margin-bottom: 2rem;
            line-height: 1.6;
        }
        
        .code-example {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
        }
        
        .random-images {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }
        
        .hero-demo {
            height: 400px;
            background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url('images/birds/species/bird-image-001.png');
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-align: center;
            border-radius: 12px;
        }
        
        .hero-content h2 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        
        .hero-content p {
            font-size: 1.2rem;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <h2><a href="index.html">BirdAiSnap</a></h2>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html">首页</a></li>
                <li><a href="knowledge.html">知识中心</a></li>
                <li><a href="image-demo.html" class="active">图片示例</a></li>
            </ul>
        </div>
    </nav>

    <div class="container" style="margin-top: 100px;">
        <h1 style="text-align: center; margin-bottom: 3rem; color: #333;">📷 图片使用示例</h1>

        <!-- 基础响应式图片 -->
        <div class="demo-section">
            <h2 class="demo-title">1. 基础响应式图片</h2>
            <p class="demo-description">使用 ImageManager 创建的响应式图片，自动适配不同屏幕尺寸。</p>
            
            <div class="image-container">
                <img src="images/birds/species/bird-image-001.png" 
                     alt="美丽的鸟类物种图片" 
                     class="responsive-image"
                     loading="lazy">
                <figcaption>示例：美丽的鸟类物种图片</figcaption>
            </div>

            <div class="code-example">
&lt;img src="images/birds/species/bird-image-001.png" 
     alt="美丽的鸟类物种图片" 
     class="responsive-image"
     loading="lazy"&gt;
            </div>
        </div>

        <!-- 图片画廊 -->
        <div class="demo-section">
            <h2 class="demo-title">2. 图片画廊</h2>
            <p class="demo-description">展示多张图片的网格布局，支持点击查看大图。</p>
            
            <div class="image-gallery" id="bird-gallery">
                <!-- 图片将通过JavaScript动态加载 -->
            </div>

            <div class="code-example">
&lt;div class="image-gallery"&gt;
    &lt;div class="gallery-item"&gt;
        &lt;img src="images/birds/species/bird-image-002.png" 
             alt="鸟类图片" 
             class="gallery-image"&gt;
    &lt;/div&gt;
&lt;/div&gt;
            </div>
        </div>

        <!-- 文章内图片 -->
        <div class="demo-section">
            <h2 class="demo-title">3. 文章内图片</h2>
            <p class="demo-description">在文章内容中使用的图片样式。</p>
            
            <div style="text-align: justify; line-height: 1.8;">
                <p>鸟类是地球上最令人着迷的生物之一。它们拥有独特的飞行能力，美丽的羽毛，以及复杂的社会行为。</p>
                
                <img src="images/birds/species/bird-image-003.png" 
                     alt="鸟类行为观察" 
                     class="article-image">
                
                <p>通过观察鸟类的行为，我们可以了解它们的生活习性、觅食方式和社交模式。这些知识不仅有助于我们更好地保护鸟类，也能让我们更深入地理解自然生态系统的复杂性。</p>
                
                <img src="images/birds/species/bird-image-004.png" 
                     alt="鸟类栖息环境" 
                     class="article-image-small">
                
                <p>不同的鸟类适应了不同的栖息环境，从森林到湿地，从城市到荒野。每种环境都为鸟类提供了独特的生存条件和挑战。</p>
            </div>
        </div>

        <!-- 背景图片 -->
        <div class="demo-section">
            <h2 class="demo-title">4. 背景图片</h2>
            <p class="demo-description">使用鸟类图片作为背景的英雄区域。</p>
            
            <div class="hero-demo">
                <div class="hero-content">
                    <h2>探索鸟类世界</h2>
                    <p>发现自然界最美丽的生物</p>
                </div>
            </div>

            <div class="code-example">
.hero-background {
    background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), 
                url('images/birds/species/bird-image-001.png');
    background-size: cover;
    background-position: center;
}
            </div>
        </div>

        <!-- 懒加载示例 -->
        <div class="demo-section">
            <h2 class="demo-title">5. 懒加载图片</h2>
            <p class="demo-description">使用懒加载技术优化页面性能。</p>
            
            <div class="random-images" id="lazy-images">
                <!-- 懒加载图片将通过JavaScript动态生成 -->
            </div>

            <div class="code-example">
&lt;img data-src="images/birds/species/bird-image-005.png" 
     alt="懒加载图片" 
     class="lazy-loading"&gt;
            </div>
        </div>

        <!-- 错误处理示例 -->
        <div class="demo-section">
            <h2 class="demo-title">6. 图片错误处理</h2>
            <p class="demo-description">当图片加载失败时的占位符显示。</p>
            
            <img src="images/birds/species/non-existent-image.png" 
                 alt="不存在的图片" 
                 class="responsive-image image-error-demo">

            <div class="code-example">
// JavaScript 错误处理
img.onerror = function() {
    this.src = 'images/ui/placeholders/image-not-found.svg';
    this.classList.add('image-error');
};
            </div>
        </div>
    </div>

    <!-- 引入图片管理脚本 -->
    <script src="image-manager.js"></script>
    <script>
        // 页面加载完成后初始化图片功能
        document.addEventListener('DOMContentLoaded', function() {
            // 1. 创建图片画廊
            const galleryImages = [
                { path: 'images/birds/species/bird-image-002.png', alt: '鸟类物种图片 2', caption: '美丽的鸟类物种' },
                { path: 'images/birds/species/bird-image-003.png', alt: '鸟类物种图片 3', caption: '自然栖息环境中的鸟类' },
                { path: 'images/birds/species/bird-image-004.png', alt: '鸟类物种图片 4', caption: '鸟类行为观察' },
                { path: 'images/birds/species/bird-image-005.png', alt: '鸟类物种图片 5', caption: '鸟类觅食行为' },
                { path: 'images/birds/species/bird-image-006.png', alt: '鸟类物种图片 6', caption: '鸟类社交行为' },
                { path: 'images/birds/species/bird-image-007.png', alt: '鸟类物种图片 7', caption: '鸟类繁殖行为' }
            ];
            
            imageManager.createGallery(galleryImages, 'bird-gallery');

            // 2. 生成懒加载图片
            const lazyContainer = document.getElementById('lazy-images');
            for (let i = 8; i <= 15; i++) {
                const img = document.createElement('img');
                img.dataset.src = `images/birds/species/bird-image-${i.toString().padStart(3, '0')}.png`;
                img.alt = `懒加载鸟类图片 ${i}`;
                img.className = 'responsive-image lazy-loading';
                lazyContainer.appendChild(img);
                
                // 添加到懒加载观察器
                imageManager.addLazyImage(img);
            }

            // 3. 处理图片错误
            const errorImg = document.querySelector('.image-error-demo');
            imageManager.handleImageError(errorImg);

            // 4. 预加载关键图片
            imageManager.preloadImages([
                'birds/species/bird-image-001.png',
                'birds/species/bird-image-002.png',
                'birds/species/bird-image-003.png'
            ]);
        });
    </script>
</body>
</html>