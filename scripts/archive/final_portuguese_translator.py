#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import os
import re
from pathlib import Path
import html

def translate_to_portuguese():
    """最终的葡萄牙语翻译函数 - 使用完整的句子替换"""
    
    # 完整的翻译映射 - 优先匹配完整句子和短语
    translations = {
        # 完整标题和句子
        "Birdwatching Beginner's Guide": "Guia do Iniciante em Observação de Aves",
        "Begin your birdwatching journey and discover the wonders of nature": "Inicie sua jornada de observação de aves e descubra as maravilhas da natureza",
        "Find the perfect feathered companion that matches your lifestyle": "Encontre o companheiro emplumado perfeito que combine com seu estilo de vida",
        
        # 长段落翻译
        "Birdwatching is a fascinating outdoor activity that not only brings you closer to nature but also cultivates patience, focus, and a deep understanding of ecological environments": "A observação de aves é uma atividade fascinante ao ar livre que não apenas o aproxima da natureza, mas também cultiva paciência, foco e uma compreensão profunda dos ambientes ecológicos",
        
        "Whether you're a complete beginner or a nature enthusiast with some experience, birdwatching can open a magical door to the natural world": "Seja você um iniciante completo ou um entusiasta da natureza com alguma experiência, a observação de aves pode abrir uma porta mágica para o mundo natural",
        
        # 章节标题
        "Why Choose Birdwatching?": "Por que Escolher a Observação de Aves?",
        "Essential Knowledge for Beginners": "Conhecimento Essencial para Iniciantes",
        "Recommended Basic Equipment": "Equipamentos Básicos Recomendados",
        "Birdwatching Etiquette and Safety": "Etiqueta e Segurança na Observação de Aves",
        
        # 提示框标题
        "Beginner's Tip": "Dica para Iniciantes",
        "Expert Advice": "Conselho de Especialista",
        "Space Tip": "Dica de Espaço",
        
        # 页面元素
        "Back Button": "Botão Voltar",
        "Hero Image": "Imagem Principal", 
        "Main Content": "Conteúdo Principal",
        "Progress Bar": "Barra de Progresso",
        
        # 其他页面标题
        "Essential Equipment": "Equipamentos Essenciais",
        "Identification Techniques": "Técnicas de Identificação",
        "Best Locations": "Melhores Locais",
        "Seasonal Guide": "Guia Sazonal",
        "Photography Tips": "Dicas de Fotografia",
        "Behavior Observation": "Observação de Comportamento",
        "Song Identification": "Identificação de Cantos",
        "Ethics and Conservation": "Ética e Conservação",
        "Journal Keeping": "Manutenção de Diário",
        "Choosing the Right Bird": "Escolhendo a Ave Certa",
        "Nutrition and Feeding": "Nutrição e Alimentação",
        "Housing and Environment": "Habitação e Ambiente",
        "Health and Veterinary": "Saúde e Veterinária",
        "Training and Behavior": "Treinamento e Comportamento",
        "Breeding and Reproduction": "Reprodução e Criação",
        "Emergency First Aid": "Primeiros Socorros de Emergência",
        "Seasonal Care": "Cuidados Sazonais",
        "Enrichment Activities": "Atividades de Enriquecimento",
        "Senior Bird Care": "Cuidados com Aves Idosas",
        "Species Profiles": "Perfis de Espécies",
        
        # 科学奇迹标题
        "Bird Flight Mechanics": "Mecânica do Voo das Aves",
        "Magnetic Navigation": "Navegação Magnética", 
        "Hummingbird Mechanics": "Mecânica dos Beija-flores",
        "Bird Intelligence": "Inteligência das Aves",
        "Feather Structure": "Estrutura das Penas",
        "Bird Vision": "Visão das Aves",
        "Egg Development": "Desenvolvimento do Ovo",
        "Bird Communication": "Comunicação das Aves",
        "Migration Physiology": "Fisiologia da Migração",
        "Biomechanics": "Biomecânica",
        
        # 生态学标题
        "Habitat Ecosystems": "Ecossistemas de Habitat",
        "Food Webs Chains": "Cadeias Alimentares",
        "Migration Patterns": "Padrões de Migração",
        "Breeding Ecology": "Ecologia Reprodutiva",
        "Climate Change Impact": "Impacto das Mudanças Climáticas",
        "Urban Ecology": "Ecologia Urbana",
        "Conservation Biology": "Biologia da Conservação",
        "Island Biogeography": "Biogeografia de Ilhas",
        "Pollination Seed Dispersal": "Polinização e Dispersão de Sementes",
        "Community Dynamics": "Dinâmica Comunitária",
        
        # 常用短语和句子
        "It's recommended to start by observing common birds, such as sparrows, pigeons, and crows. These birds are easy to observe and help build confidence and experience.": "É recomendado começar observando aves comuns, como pardais, pombos e corvos. Essas aves são fáceis de observar e ajudam a construir confiança e experiência.",
        
        "Joining local birdwatching organizations or participating in birdwatching activities to learn from experienced birdwatchers is the best way to quickly improve your birdwatching skills.": "Juntar-se a organizações locais de observação de aves ou participar de atividades de observação de aves para aprender com observadores experientes é a melhor maneira de melhorar rapidamente suas habilidades de observação de aves.",
        
        # 基本词汇 - 使用单词边界
        "birdwatching": "observação de aves",
        "bird": "ave",
        "birds": "aves", 
        "nature": "natureza",
        "wildlife": "vida selvagem",
        "habitat": "habitat",
        "species": "espécie",
        "observation": "observação",
        "identification": "identificação",
        "behavior": "comportamento",
        "behaviour": "comportamento",
        "migration": "migração",
        "breeding": "reprodução",
        "feeding": "alimentação",
        "conservation": "conservação",
        "ecology": "ecologia",
        "ecosystem": "ecossistema",
        "environment": "ambiente",
        "equipment": "equipamento",
        "binoculars": "binóculos",
        "guide": "guia",
        "photography": "fotografia",
        "camera": "câmera",
        "notebook": "caderno",
        "journal": "diário",
        "location": "localização",
        "season": "estação",
        "weather": "clima",
        "temperature": "temperatura",
        "morning": "manhã",
        "evening": "noite",
        "forest": "floresta",
        "park": "parque",
        "garden": "jardim",
        "urban": "urbano",
        "rural": "rural",
        "wild": "selvagem",
        "domestic": "doméstico",
        "pet": "animal de estimação",
        "care": "cuidado",
        "health": "saúde",
        "nutrition": "nutrição",
        "food": "comida",
        "water": "água",
        "training": "treinamento",
        "intelligence": "inteligência",
        "communication": "comunicação",
        "flight": "voo",
        "feather": "pena",
        "wing": "asa",
        "beak": "bico",
        "eye": "olho",
        "size": "tamanho",
        "color": "cor",
        "colour": "cor",
        "male": "macho",
        "female": "fêmea",
        "adult": "adulto",
        "egg": "ovo",
        "nest": "ninho",
        
        # 常用动词
        "learn": "aprender",
        "understand": "entender",
        "observe": "observar",
        "find": "encontrar",
        "discover": "descobrir",
        "start": "começar",
        "begin": "começar",
        "help": "ajudar",
        "choose": "escolher",
        "need": "precisar",
        "want": "querer",
        "like": "gostar",
        "see": "ver",
        "watch": "assistir",
        "listen": "escutar",
        "build": "construir",
        "create": "criar",
        "provide": "fornecer",
        "protect": "proteger",
        "improve": "melhorar",
        "develop": "desenvolver",
        
        # 常用形容词
        "important": "importante",
        "essential": "essencial",
        "basic": "básico",
        "common": "comum",
        "different": "diferente",
        "special": "especial",
        "natural": "natural",
        "beautiful": "bonito",
        "interesting": "interessante",
        "easy": "fácil",
        "difficult": "difícil",
        "good": "bom",
        "best": "melhor",
        "new": "novo",
        "old": "velho",
        "small": "pequeno",
        "large": "grande",
        "long": "longo",
        "short": "curto",
        "high": "alto",
        "low": "baixo",
        "safe": "seguro",
        "local": "local",
        "popular": "popular",
        "experienced": "experiente",
        "perfect": "perfeito",
        "complete": "completo",
        "unique": "único",
        "amazing": "incrível",
        "wonderful": "maravilhoso",
        
        # 常用副词和介词
        "and": "e",
        "or": "ou", 
        "the": "o",
        "with": "com",
        "for": "para",
        "to": "para",
        "of": "de",
        "in": "em",
        "on": "em",
        "at": "em",
        "by": "por",
        "from": "de",
        "about": "sobre",
        "during": "durante",
        "before": "antes",
        "after": "depois",
        "when": "quando",
        "where": "onde",
        "how": "como",
        "what": "o que",
        "why": "por que",
        "this": "este",
        "that": "que",
        "these": "estes",
        "those": "aqueles",
        "all": "todos",
        "some": "alguns",
        "many": "muitos",
        "most": "maioria",
        "each": "cada",
        "every": "todo",
        "first": "primeiro",
        "last": "último",
        "next": "próximo",
        "also": "também",
        "very": "muito",
        "more": "mais",
        "most": "mais",
        "well": "bem",
        "only": "apenas",
        "just": "apenas",
        "even": "mesmo",
        "still": "ainda",
        "always": "sempre",
        "never": "nunca",
        "often": "frequentemente",
        "sometimes": "às vezes",
        "usually": "geralmente",
        "quickly": "rapidamente",
        "slowly": "lentamente",
        "carefully": "cuidadosamente",
        "easily": "facilmente",
        "effectively": "efetivamente",
        "especially": "especialmente",
        "particularly": "particularmente",
        "generally": "geralmente",
        "specifically": "especificamente",
        "actually": "na verdade",
        "really": "realmente",
        "truly": "verdadeiramente",
        "certainly": "certamente",
        "probably": "provavelmente",
        "possibly": "possivelmente",
        "definitely": "definitivamente",
        "clearly": "claramente",
        "obviously": "obviamente",
        "unfortunately": "infelizmente",
        "fortunately": "felizmente",
        "however": "no entanto",
        "therefore": "portanto",
        "meanwhile": "enquanto isso",
        "furthermore": "além disso",
        "moreover": "além disso",
        "nevertheless": "no entanto",
        "otherwise": "caso contrário",
        "instead": "em vez disso",
        "finally": "finalmente",
        "eventually": "eventualmente",
        "immediately": "imediatamente",
        "recently": "recentemente",
        "currently": "atualmente",
        "previously": "anteriormente",
        "originally": "originalmente",
        "basically": "basicamente",
        "mainly": "principalmente",
        "mostly": "principalmente",
        "partly": "parcialmente",
        "completely": "completamente",
        "entirely": "inteiramente",
        "totally": "totalmente",
        "absolutely": "absolutamente",
        "relatively": "relativamente",
        "extremely": "extremamente",
        "highly": "altamente",
        "quite": "bastante",
        "rather": "bastante",
        "fairly": "bastante",
        "pretty": "bastante",
        "somewhat": "um pouco",
        "slightly": "ligeiramente",
        "hardly": "dificilmente",
        "barely": "mal",
        "almost": "quase",
        "nearly": "quase",
        "approximately": "aproximadamente",
        "exactly": "exatamente",
        "precisely": "precisamente",
        "directly": "diretamente",
        "indirectly": "indiretamente",
        "personally": "pessoalmente",
        "individually": "individualmente",
        "collectively": "coletivamente",
        "together": "juntos",
        "separately": "separadamente",
        "apart": "separados",
        "away": "longe",
        "near": "perto",
        "close": "perto",
        "far": "longe",
        "here": "aqui",
        "there": "lá",
        "everywhere": "em todos os lugares",
        "somewhere": "em algum lugar",
        "anywhere": "em qualquer lugar",
        "nowhere": "em lugar nenhum",
        "inside": "dentro",
        "outside": "fora",
        "above": "acima",
        "below": "abaixo",
        "under": "sob",
        "over": "sobre",
        "through": "através",
        "across": "através",
        "around": "ao redor",
        "between": "entre",
        "among": "entre",
        "within": "dentro",
        "without": "sem",
        "beyond": "além",
        "behind": "atrás",
        "ahead": "à frente",
        "forward": "para frente",
        "backward": "para trás",
        "upward": "para cima",
        "downward": "para baixo",
        "inward": "para dentro",
        "outward": "para fora",
        "toward": "em direção a",
        "towards": "em direção a",
        "against": "contra",
        "along": "ao longo",
        "beside": "ao lado",
        "besides": "além de",
        "except": "exceto",
        "including": "incluindo",
        "excluding": "excluindo",
        "regarding": "em relação a",
        "concerning": "sobre",
        "according": "de acordo",
        "depending": "dependendo",
        "considering": "considerando",
        "despite": "apesar de",
        "although": "embora",
        "though": "embora",
        "unless": "a menos que",
        "until": "até",
        "since": "desde",
        "while": "enquanto",
        "whereas": "enquanto",
        "because": "porque",
        "as": "como",
        "if": "se",
        "whether": "se",
        "either": "ou",
        "neither": "nem",
        "both": "ambos",
        "not": "não",
        "no": "não",
        "yes": "sim",
        "maybe": "talvez",
        "perhaps": "talvez",
        
        # 名词
        "time": "tempo",
        "day": "dia",
        "night": "noite",
        "week": "semana",
        "month": "mês",
        "year": "ano",
        "hour": "hora",
        "minute": "minuto",
        "moment": "momento",
        "life": "vida",
        "world": "mundo",
        "place": "lugar",
        "home": "casa",
        "house": "casa",
        "family": "família",
        "people": "pessoas",
        "person": "pessoa",
        "man": "homem",
        "woman": "mulher",
        "child": "criança",
        "friend": "amigo",
        "group": "grupo",
        "team": "equipe",
        "organization": "organização",
        "community": "comunidade",
        "society": "sociedade",
        "country": "país",
        "city": "cidade",
        "area": "área",
        "region": "região",
        "space": "espaço",
        "room": "quarto",
        "building": "prédio",
        "structure": "estrutura",
        "system": "sistema",
        "method": "método",
        "way": "maneira",
        "process": "processo",
        "activity": "atividade",
        "action": "ação",
        "work": "trabalho",
        "job": "trabalho",
        "task": "tarefa",
        "project": "projeto",
        "plan": "plano",
        "goal": "objetivo",
        "purpose": "propósito",
        "reason": "razão",
        "cause": "causa",
        "effect": "efeito",
        "result": "resultado",
        "outcome": "resultado",
        "success": "sucesso",
        "failure": "fracasso",
        "problem": "problema",
        "solution": "solução",
        "answer": "resposta",
        "question": "pergunta",
        "issue": "questão",
        "matter": "assunto",
        "subject": "assunto",
        "topic": "tópico",
        "theme": "tema",
        "idea": "ideia",
        "thought": "pensamento",
        "concept": "conceito",
        "theory": "teoria",
        "principle": "princípio",
        "rule": "regra",
        "law": "lei",
        "policy": "política",
        "strategy": "estratégia",
        "approach": "abordagem",
        "technique": "técnica",
        "skill": "habilidade",
        "ability": "capacidade",
        "talent": "talento",
        "knowledge": "conhecimento",
        "information": "informação",
        "data": "dados",
        "fact": "fato",
        "detail": "detalhe",
        "feature": "característica",
        "quality": "qualidade",
        "property": "propriedade",
        "characteristic": "característica",
        "aspect": "aspecto",
        "element": "elemento",
        "component": "componente",
        "part": "parte",
        "section": "seção",
        "chapter": "capítulo",
        "page": "página",
        "book": "livro",
        "article": "artigo",
        "report": "relatório",
        "study": "estudo",
        "research": "pesquisa",
        "analysis": "análise",
        "review": "revisão",
        "evaluation": "avaliação",
        "assessment": "avaliação",
        "test": "teste",
        "exam": "exame",
        "experiment": "experimento",
        "trial": "teste",
        "example": "exemplo",
        "case": "caso",
        "instance": "instância",
        "situation": "situação",
        "condition": "condição",
        "state": "estado",
        "status": "status",
        "position": "posição",
        "level": "nível",
        "degree": "grau",
        "amount": "quantidade",
        "number": "número",
        "quantity": "quantidade",
        "measure": "medida",
        "size": "tamanho",
        "length": "comprimento",
        "width": "largura",
        "height": "altura",
        "depth": "profundidade",
        "weight": "peso",
        "mass": "massa",
        "volume": "volume",
        "area": "área",
        "distance": "distância",
        "speed": "velocidade",
        "rate": "taxa",
        "frequency": "frequência",
        "pattern": "padrão",
        "trend": "tendência",
        "direction": "direção",
        "path": "caminho",
        "route": "rota",
        "journey": "jornada",
        "trip": "viagem",
        "travel": "viagem",
        "visit": "visita",
        "tour": "tour",
        "adventure": "aventura",
        "experience": "experiência",
        "event": "evento",
        "occasion": "ocasião",
        "opportunity": "oportunidade",
        "chance": "chance",
        "possibility": "possibilidade",
        "option": "opção",
        "choice": "escolha",
        "decision": "decisão",
        "selection": "seleção",
        "preference": "preferência",
        "interest": "interesse",
        "hobby": "hobby",
        "passion": "paixão",
        "love": "amor",
        "feeling": "sentimento",
        "emotion": "emoção",
        "mood": "humor",
        "attitude": "atitude",
        "behavior": "comportamento",
        "habit": "hábito",
        "custom": "costume",
        "tradition": "tradição",
        "culture": "cultura",
        "style": "estilo",
        "fashion": "moda",
        "design": "design",
        "art": "arte",
        "music": "música",
        "sound": "som",
        "voice": "voz",
        "language": "idioma",
        "word": "palavra",
        "term": "termo",
        "name": "nome",
        "title": "título",
        "label": "rótulo",
        "sign": "sinal",
        "symbol": "símbolo",
        "mark": "marca",
        "image": "imagem",
        "picture": "imagem",
        "photo": "foto",
        "photograph": "fotografia",
        "video": "vídeo",
        "film": "filme",
        "movie": "filme",
        "show": "show",
        "program": "programa",
        "channel": "canal",
        "station": "estação",
        "network": "rede",
        "connection": "conexão",
        "link": "link",
        "relationship": "relacionamento",
        "association": "associação",
        "partnership": "parceria",
        "cooperation": "cooperação",
        "collaboration": "colaboração",
        "teamwork": "trabalho em equipe",
        "support": "apoio",
        "help": "ajuda",
        "assistance": "assistência",
        "service": "serviço",
        "care": "cuidado",
        "attention": "atenção",
        "focus": "foco",
        "concentration": "concentração",
        "effort": "esforço",
        "energy": "energia",
        "power": "poder",
        "strength": "força",
        "force": "força",
        "pressure": "pressão",
        "stress": "estresse",
        "tension": "tensão",
        "conflict": "conflito",
        "competition": "competição",
        "contest": "concurso",
        "game": "jogo",
        "sport": "esporte",
        "exercise": "exercício",
        "practice": "prática",
        "training": "treinamento",
        "education": "educação",
        "learning": "aprendizagem",
        "teaching": "ensino",
        "instruction": "instrução",
        "lesson": "lição",
        "class": "aula",
        "course": "curso",
        "program": "programa",
        "curriculum": "currículo",
        "subject": "matéria",
        "discipline": "disciplina",
        "field": "campo",
        "domain": "domínio",
        "sector": "setor",
        "industry": "indústria",
        "business": "negócio",
        "company": "empresa",
        "corporation": "corporação",
        "firm": "empresa",
        "office": "escritório",
        "department": "departamento",
        "division": "divisão",
        "unit": "unidade",
        "branch": "filial",
        "headquarters": "sede",
        "center": "centro",
        "facility": "instalação",
        "institution": "instituição",
        "establishment": "estabelecimento",
        "foundation": "fundação",
        "agency": "agência",
        "bureau": "escritório",
        "committee": "comitê",
        "council": "conselho",
        "board": "conselho",
        "panel": "painel",
        "jury": "júri",
        "judge": "juiz",
        "court": "tribunal",
        "trial": "julgamento",
        "case": "caso",
        "lawsuit": "processo",
        "claim": "reivindicação",
        "complaint": "reclamação",
        "criticism": "crítica",
        "comment": "comentário",
        "remark": "observação",
        "statement": "declaração",
        "announcement": "anúncio",
        "news": "notícias",
        "information": "informação",
        "message": "mensagem",
        "communication": "comunicação",
        "conversation": "conversa",
        "discussion": "discussão",
        "debate": "debate",
        "argument": "argumento",
        "opinion": "opinião",
        "view": "visão",
        "perspective": "perspectiva",
        "point": "ponto",
        "aspect": "aspecto",
        "angle": "ângulo",
        "side": "lado",
        "edge": "borda",
        "corner": "canto",
        "surface": "superfície",
        "top": "topo",
        "bottom": "fundo",
        "front": "frente",
        "back": "costas",
        "left": "esquerda",
        "right": "direita",
        "center": "centro",
        "middle": "meio",
        "beginning": "início",
        "start": "início",
        "end": "fim",
        "finish": "fim",
        "conclusion": "conclusão",
        "summary": "resumo",
        "overview": "visão geral",
        "introduction": "introdução",
        "background": "fundo",
        "context": "contexto",
        "setting": "configuração",
        "environment": "ambiente",
        "atmosphere": "atmosfera",
        "climate": "clima",
        "weather": "tempo",
        "season": "estação",
        "spring": "primavera",
        "summer": "verão",
        "autumn": "outono",
        "winter": "inverno",
        "fall": "outono",
        "temperature": "temperatura",
        "heat": "calor",
        "cold": "frio",
        "warmth": "calor",
        "coolness": "frescor",
        "wind": "vento",
        "air": "ar",
        "breeze": "brisa",
        "storm": "tempestade",
        "rain": "chuva",
        "snow": "neve",
        "ice": "gelo",
        "water": "água",
        "sea": "mar",
        "ocean": "oceano",
        "lake": "lago",
        "river": "rio",
        "stream": "riacho",
        "pond": "lagoa",
        "pool": "piscina",
        "beach": "praia",
        "shore": "costa",
        "coast": "costa",
        "island": "ilha",
        "mountain": "montanha",
        "hill": "colina",
        "valley": "vale",
        "plain": "planície",
        "desert": "deserto",
        "forest": "floresta",
        "wood": "madeira",
        "tree": "árvore",
        "plant": "planta",
        "flower": "flor",
        "grass": "grama",
        "leaf": "folha",
        "branch": "galho",
        "root": "raiz",
        "seed": "semente",
        "fruit": "fruta",
        "vegetable": "vegetal",
        "crop": "colheita",
        "harvest": "colheita",
        "farm": "fazenda",
        "field": "campo",
        "garden": "jardim",
        "yard": "quintal",
        "park": "parque",
        "square": "praça",
        "street": "rua",
        "road": "estrada",
        "path": "caminho",
        "trail": "trilha",
        "bridge": "ponte",
        "tunnel": "túnel",
        "gate": "portão",
        "door": "porta",
        "window": "janela",
        "wall": "parede",
        "roof": "telhado",
        "floor": "chão",
        "ceiling": "teto",
        "stairs": "escadas",
        "step": "passo",
        "ladder": "escada",
        "elevator": "elevador",
        "escalator": "escada rolante",
        "hall": "corredor",
        "corridor": "corredor",
        "passage": "passagem",
        "entrance": "entrada",
        "exit": "saída",
        "lobby": "saguão",
        "reception": "recepção",
        "counter": "balcão",
        "desk": "mesa",
        "table": "mesa",
        "chair": "cadeira",
        "seat": "assento",
        "bench": "banco",
        "sofa": "sofá",
        "couch":