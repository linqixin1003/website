#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import os

def create_optimized_german_content():
    """åˆ›å»ºä¼˜åŒ–çš„å¾·è¯­ç§‘å­¦ç ”ç©¶è®¾å¤‡å†…å®¹"""
    
    html_content = '''<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VogelforschungsausrÃ¼stung und Forschungswerkzeuge - BirdAiSnap</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: rgba(255, 255, 255, 0.95);
            margin-top: 20px;
            margin-bottom: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        .title {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .quote-box {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .quote-text {
            font-size: 1.2em;
            font-style: italic;
        }
        
        .section-title {
            color: #2c3e50;
            font-size: 1.5em;
            margin: 25px 0 15px 0;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }
        
        .main-text {
            color: #34495e;
            margin: 15px 0;
            font-size: 1.1em;
            text-align: justify;
        }
        
        .tip-box {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }
        
        .tip-title {
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 1.1em;
        }
        
        .equipment-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .equipment-card {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .equipment-title {
            color: #2c3e50;
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .equipment-description {
            color: #34495e;
            font-size: 1em;
            line-height: 1.5;
        }
        
        .emoji {
            font-size: 1.2em;
            margin: 0 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">ğŸ”¬ VogelforschungsausrÃ¼stung und Forschungswerkzeuge</h1>
        
        <div class="quote-box">
            <div class="quote-text">
                Entdecken Sie die wissenschaftlichen Werkzeuge und AusrÃ¼stungen fÃ¼r ornithologische Forschung und professionelle Vogelstudien
            </div>
        </div>
        
        <div class="main-text">
            Professionelle Vogelforschung und ornithologische Studien erfordern spezialisierte AusrÃ¼stung, die Ã¼ber grundlegende VogelbeobachtungsgerÃ¤te hinausgeht. Diese wissenschaftlichen Werkzeuge ermÃ¶glichen es Forschern, detaillierte Studien durchzufÃ¼hren, Daten zu sammeln und unser VerstÃ¤ndnis der Vogelbiologie voranzutreiben<span class="emoji">ğŸ”¬</span>. Dieser Leitfaden behandelt die wesentliche AusrÃ¼stung fÃ¼r professionelle Vogelforschung und fortgeschrittene Studien.
        </div>
        
        <div class="section-title">Beringung und MarkierungsausrÃ¼stung</div>
        <div class="main-text">
            Die Vogelberingung ist eine wichtige Forschungstechnik zur Verfolgung einzelner VÃ¶gel Ã¼ber die Zeit. Professionelle Forscher verwenden spezialisierte AusrÃ¼stung, einschlieÃŸlich nummerierter Metallringe, Farbringe und Anwendungswerkzeuge<span class="emoji">ğŸ·ï¸</span>. Moderne Forschung nutzt auch GPS-Sender und Radiotelemetrie-GerÃ¤te zur Verfolgung von Zugmustern und Verhalten.
        </div>
        
        <div class="equipment-grid">
            <div class="equipment-card">
                <div class="equipment-title">ğŸ·ï¸ BeringungsausrÃ¼stung</div>
                <div class="equipment-description">
                    <strong>Metallringe:</strong> Nummerierte Aluminiumringe fÃ¼r permanente Identifikation<br>
                    <strong>Farbringe:</strong> Kunststoffringe fÃ¼r Feldidentifikation<br>
                    <strong>Beringungszangen:</strong> Spezialisierte Werkzeuge fÃ¼r sichere Ringanbringung<br>
                    <strong>RinggrÃ¶ÃŸenfÃ¼hrer:</strong> Referenztabellen fÃ¼r korrekte RinggrÃ¶ÃŸen
                </div>
            </div>
            
            <div class="equipment-card">
                <div class="equipment-title">ğŸ“¡ Verfolgungstechnologie</div>
                <div class="equipment-description">
                    <strong>GPS-Sender:</strong> Satellitenbasierte VerfolgungsgerÃ¤te fÃ¼r Zugstudien<br>
                    <strong>Radiosender:</strong> VHF-Sender fÃ¼r lokale Verfolgung<br>
                    <strong>Geolokatoren:</strong> Lichtbasierte Positionsrekorder<br>
                    <strong>EmpfangsgerÃ¤te:</strong> Antennen und EmpfÃ¤nger fÃ¼r Signaldetektion
                </div>
            </div>
        </div>
        
        <div class="section-title">Fang- und HandhabungsausrÃ¼stung</div>
        <div class="main-text">
            Sicherer Vogelfang fÃ¼r Forschungszwecke erfordert speziell entwickelte Netze und Fallen, um Stress und Verletzungen zu minimieren. Nebelnetze sind die hÃ¤ufigste Fangmethode und erfordern ordnungsgemÃ¤ÃŸe Aufstellung und kontinuierliche Ãœberwachung<span class="emoji">ğŸ•¸ï¸</span>. Professionelle Handhabungstechniken und -ausrÃ¼stung gewÃ¤hrleisten die Sicherheit der VÃ¶gel wÃ¤hrend der Forschung.
        </div>
        
        <div class="tip-box">
            <div class="tip-title">âš ï¸ Sicherheitsprotokolle</div>
            Vogelfang und -handhabung erfordern angemessene Ausbildung, Genehmigungen und die Einhaltung strenger ethischer Richtlinien. Nur lizenzierte Forscher sollten diese Techniken anwenden.
        </div>
        
        <div class="section-title">Mess- und Datenerfassungswerkzeuge</div>
        <div class="main-text">
            PrÃ¤zise Messungen sind fÃ¼r ornithologische Forschung von entscheidender Bedeutung. Professionelle Messschieber, Lineale und Waagen, die speziell fÃ¼r die Vogelforschung entwickelt wurden, liefern genaue morphologische Daten<span class="emoji">ğŸ“</span>. Digitale Datenlogger und Feldcomputer vereinfachen die Datenerfassung und reduzieren Transkriptionsfehler.
        </div>
        
        <div class="section-title">LaborausrÃ¼stung</div>
        <div class="main-text">
            Die Laboranalyse von Vogelproben erfordert spezialisierte AusrÃ¼stung fÃ¼r genetische, physiologische und pathologische Studien. Mikroskope, Zentrifugen und molekularbiologische AusrÃ¼stung ermÃ¶glichen detaillierte Analysen von Federn-, Blut- und Gewebeproben<span class="emoji">ğŸ§ª</span>. Diese AusrÃ¼stung unterstÃ¼tzt Forschung in Evolution, KrankheitsÃ¶kologie und Naturschutzgenetik.
        </div>
        
        <div class="main-text">
            Professionelle VogelforschungsausrÃ¼stung stellt eine erhebliche Investition dar und erfordert angemessene Ausbildung fÃ¼r sichere und effektive Nutzung. Diese Werkzeuge ermÃ¶glichen es Wissenschaftlern, prÃ¤zise Daten zu sammeln, unser VerstÃ¤ndnis der Vogelbiologie voranzutreiben und NaturschutzmaÃŸnahmen zu unterstÃ¼tzen<span class="emoji">ğŸŒŸ</span>. Die AusrÃ¼stungsauswahl hÃ¤ngt von spezifischen Forschungszielen, Zielarten und Studiendesign-Anforderungen ab.
        </div>
    </div>
</body>
</html>'''
    
    return html_content

def update_german_file():
    """æ›´æ–°å¾·è¯­è®¾å¤‡æ–‡ä»¶"""
    
    # åˆ›å»ºç›®å½•è·¯å¾„
    file_path = "de/knowledge/02-essential-equipment.html"
    
    # æ£€æŸ¥ç›®å½•æ˜¯å¦å­˜åœ¨
    os.makedirs("de/knowledge", exist_ok=True)
    
    # è·å–ä¼˜åŒ–çš„å¾·è¯­å†…å®¹
    content = create_optimized_german_content()
    
    # å†™å…¥æ–‡ä»¶
    try:
        with open(file_path, 'w', encoding='utf-8') as f:
            f.write(content)
        print(f"âœ… å¾·è¯­ç¿»è¯‘å·²ä¼˜åŒ–å¹¶æ›´æ–°: {file_path}")
        return True
    except Exception as e:
        print(f"âŒ æ›´æ–°å¤±è´¥ {file_path}: {e}")
        return False

def optimize_other_german_files():
    """ä¼˜åŒ–å…¶ä»–å¾·è¯­æ–‡ä»¶çš„ç¿»è¯‘è´¨é‡"""
    
    # éœ€è¦ä¼˜åŒ–çš„æ–‡ä»¶åˆ—è¡¨
    files_to_optimize = [
        "de/birdwatching/01-getting-started.html",
        "de/knowledge/01-beginners-guide.html",
        "de/pet-care/01-choosing-right-bird.html",
        "de/scientific-wonders/01-bird-flight-mechanics.html"
    ]
    
    optimized_count = 0
    
    for file_path in files_to_optimize:
        if os.path.exists(file_path):
            try:
                # è¯»å–ç°æœ‰æ–‡ä»¶
                with open(file_path, 'r', encoding='utf-8') as f:
                    content = f.read()
                
                # æ‰§è¡ŒåŸºæœ¬çš„å¾·è¯­ç¿»è¯‘ä¼˜åŒ–
                optimized_content = improve_german_translation(content)
                
                # å†™å›æ–‡ä»¶
                with open(file_path, 'w', encoding='utf-8') as f:
                    f.write(optimized_content)
                
                print(f"âœ… å·²ä¼˜åŒ–: {file_path}")
                optimized_count += 1
                
            except Exception as e:
                print(f"âŒ ä¼˜åŒ–å¤±è´¥ {file_path}: {e}")
        else:
            print(f"âš ï¸ æ–‡ä»¶ä¸å­˜åœ¨: {file_path}")
    
    return optimized_count

def improve_german_translation(content):
    """æ”¹è¿›å¾·è¯­ç¿»è¯‘è´¨é‡"""
    
    # å¸¸è§çš„ç¿»è¯‘æ”¹è¿›æ˜ å°„
    improvements = {
        # ä¿®å¤å¸¸è§çš„ç¿»è¯‘é”™è¯¯
        'Vogel watching': 'Vogelbeobachtung',
        'Vogel watcher': 'Vogelbeobachter',
        'bird watching': 'Vogelbeobachtung',
        'bird watcher': 'Vogelbeobachter',
        'Fernglas sind': 'FernglÃ¤ser sind',
        'meiste wesentlich': 'wichtigste',
        'piece von': 'Teil der',
        'any Vogel': 'jeden Vogel',
        'der meiste': 'die meisten',
        'beliebt Wahl': 'beliebte Wahl',
        'among birders': 'unter Vogelbeobachtern',
        'ist 8x42': 'sind 8x42',
        'which offer': 'die bieten',
        'gut balance': 'gute Balance',
        'von magnification': 'der VergrÃ¶ÃŸerung',
        'field von view': 'Sichtfeld',
        'light-gathering FÃ¤higkeit': 'LichtsammelfÃ¤higkeit',
        'wann selecting': 'bei der Auswahl',
        'fÃ¼r Vogel watching': 'fÃ¼r die Vogelbeobachtung',
        'consider der': 'berÃ¼cksichtigen Sie die',
        'und objective': 'und Objektivlinsen',
        'lens diameter': 'Durchmesser',
        'Higher magnification fÃ¼r': 'HÃ¶here VergrÃ¶ÃŸerung fÃ¼r',
        'distant VÃ¶gel': 'entfernte VÃ¶gel',
        'but requires': 'aber erfordert',
        'steadier hands': 'ruhigere HÃ¤nde',
        'und hat a': 'und hat ein',
        'narrower field': 'schmaleres Sichtfeld',
        'comprehensive field': 'umfassender Feld',
        'Leitfaden ist': 'Leitfaden ist',
        'Ihr companion': 'Ihr Begleiter',
        'fÃ¼r identifying': 'zur Identifizierung',
        'der VÃ¶gel': 'der VÃ¶gel',
        'Sie encounter': 'Sie antreffen',
        'modern field': 'moderne Feld',
        'guides include': 'LeitfÃ¤den enthalten',
        'detailed illustrations': 'detaillierte Illustrationen',
        'range maps': 'Verbreitungskarten',
        'behavioral descriptions': 'Verhaltensbeschreibungen',
        'das helfen': 'die helfen',
        'Sie distinguish': 'Ihnen zu unterscheiden',
        'between Ã¤hnlich': 'zwischen Ã¤hnlichen',
        'Art': 'Arten',
        'While not': 'Obwohl nicht',
        'wesentlich fÃ¼r': 'wesentlich fÃ¼r',
        'allows Sie': 'ermÃ¶glicht es Ihnen',
        'zu capture': 'zu erfassen',
        'und share': 'und zu teilen',
        'Ihr discoveries': 'Ihre Entdeckungen',
        'requires spezifische': 'erfordert spezifische',
        'considerations due': 'Ãœberlegungen aufgrund',
        'zu der': 'der',
        'oft distant': 'oft entfernten',
        'und schnell-moving': 'und sich schnell bewegenden',
        'Natur von': 'Natur der',
        'Ihr subjects': 'Ihre Motive'
    }
    
    # åº”ç”¨æ”¹è¿›
    improved_content = content
    for old, new in improvements.items():
        improved_content = improved_content.replace(old, new)
    
    return improved_content

def create_comprehensive_german_optimizer():
    """åˆ›å»ºå…¨é¢çš„å¾·è¯­ä¼˜åŒ–å·¥å…·"""
    
    print("ğŸ”§ åˆ›å»ºå…¨é¢çš„å¾·è¯­ç¿»è¯‘ä¼˜åŒ–å·¥å…·...")
    
    # æ£€æŸ¥å¾·è¯­ç›®å½•ç»“æ„
    german_dirs = ['de/birdwatching', 'de/knowledge', 'de/pet-care', 'de/scientific-wonders', 'de/ecology']
    
    for dir_path in german_dirs:
        if os.path.exists(dir_path):
            files = [f for f in os.listdir(dir_path) if f.endswith('.html')]
            print(f"ğŸ“ {dir_path}: {len(files)} ä¸ªHTMLæ–‡ä»¶")
        else:
            print(f"âš ï¸ ç›®å½•ä¸å­˜åœ¨: {dir_path}")

def main():
    """ä¸»å‡½æ•°"""
    print("ğŸš€ å¼€å§‹å¾·è¯­ç¿»è¯‘ä¼˜åŒ–...")
    print("=" * 50)
    
    # 1. ä¼˜åŒ–è®¾å¤‡é¡µé¢
    print("1ï¸âƒ£ ä¼˜åŒ–ç§‘å­¦ç ”ç©¶è®¾å¤‡é¡µé¢...")
    equipment_success = update_german_file()
    
    # 2. æ£€æŸ¥é¡¹ç›®ç»“æ„
    print("\n2ï¸âƒ£ æ£€æŸ¥å¾·è¯­æ–‡ä»¶ç»“æ„...")
    create_comprehensive_german_optimizer()
    
    # 3. ä¼˜åŒ–å…¶ä»–æ–‡ä»¶
    print("\n3ï¸âƒ£ ä¼˜åŒ–å…¶ä»–å¾·è¯­æ–‡ä»¶...")
    other_files_count = optimize_other_german_files()
    
    # æ€»ç»“
    print("\n" + "=" * 50)
    print("ğŸ‰ å¾·è¯­ç¿»è¯‘ä¼˜åŒ–å®Œæˆï¼")
    print(f"âœ… è®¾å¤‡é¡µé¢ä¼˜åŒ–: {'æˆåŠŸ' if equipment_success else 'å¤±è´¥'}")
    print(f"âœ… å…¶ä»–æ–‡ä»¶ä¼˜åŒ–: {other_files_count} ä¸ªæ–‡ä»¶")
    print("\nä¸»è¦æ”¹è¿›:")
    print("- ä½¿ç”¨æ›´è‡ªç„¶çš„å¾·è¯­è¡¨è¾¾")
    print("- ä¸“ä¸šæœ¯è¯­ç¿»è¯‘æ›´å‡†ç¡®")
    print("- è¯­æ³•ç»“æ„æ›´ç¬¦åˆå¾·è¯­ä¹ æƒ¯")
    print("- ä¿®å¤å¸¸è§ç¿»è¯‘é”™è¯¯")
    print("- ä¿æŒç§‘å­¦ç ”ç©¶è®¾å¤‡çš„ä¸“ä¸šæ€§")

if __name__ == "__main__":
    main()
