<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>鳥類生態学 - BirdAiSnap</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="icon" type="image/x-icon" href="../favicon.ico">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <img src="../images/logo.png" alt="BirdAiSnap Logo" class="logo-img">
                <span class="logo-text">BirdAiSnap</span>
            </div>
            
            <div class="nav-menu">
                <a href="../index.html" class="nav-link">ホーム</a>
                <a href="../knowledge.html" class="nav-link">知識</a>
                <a href="../birdwatching.html" class="nav-link">観察</a>
                <a href="../scientific-wonders.html" class="nav-link">科学</a>
                <a href="../pet-care.html" class="nav-link">ケア</a>
                <a href="../ecology.html" class="nav-link active">生態学</a>
                <a href="../cultural-symbolism.html" class="nav-link">文化</a>
            </div>

            <div class="language-switcher">
                <div class="lang-dropdown">
                    <button class="lang-btn" onclick="toggleLanguageMenu()">
                        <span class="lang-icon">🌐</span>
                        <span class="lang-text">言語</span>
                        <span id="currentLang">JA</span>
                        <span class="dropdown-arrow">▼</span>
                    </button>
                    <div class="lang-menu" id="languageMenu">
                        <div class="lang-option" onclick="changeLanguage('en')">
                            <span class="flag">🇺🇸</span>
                            <span class="name">English</span>
                            <span class="code">EN</span>
                        </div>
                        <div class="lang-option" onclick="changeLanguage('zh')">
                            <span class="flag">🇨🇳</span>
                            <span class="name">中文</span>
                            <span class="code">ZH</span>
                        </div>
                        <div class="lang-option" onclick="changeLanguage('es')">
                            <span class="flag">🇪🇸</span>
                            <span class="name">Español</span>
                            <span class="code">ES</span>
                        </div>
                        <div class="lang-option" onclick="changeLanguage('fr')">
                            <span class="flag">🇫🇷</span>
                            <span class="name">Français</span>
                            <span class="code">FR</span>
                        </div>
                        <div class="lang-option" onclick="changeLanguage('de')">
                            <span class="flag">🇩🇪</span>
                            <span class="name">Deutsch</span>
                            <span class="code">DE</span>
                        </div>
                        <div class="lang-option" onclick="changeLanguage('it')">
                            <span class="flag">🇮🇹</span>
                            <span class="name">Italiano</span>
                            <span class="code">IT</span>
                        </div>
                        <div class="lang-option" onclick="changeLanguage('pt')">
                            <span class="flag">🇵🇹</span>
                            <span class="name">Português</span>
                            <span class="code">PT</span>
                        </div>
                        <div class="lang-option" onclick="changeLanguage('ru')">
                            <span class="flag">🇷🇺</span>
                            <span class="name">Русский</span>
                            <span class="code">RU</span>
                        </div>
                        <div class="lang-option active" onclick="changeLanguage('ja')">
                            <span class="flag">🇯🇵</span>
                            <span class="name">日本語</span>
                            <span class="code">JA</span>
                        </div>
                        <div class="lang-option" onclick="changeLanguage('ko')">
                            <span class="flag">🇰🇷</span>
                            <span class="name">한국어</span>
                            <span class="code">KO</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-content">
            <h1 class="hero-title">鳥類生態学</h1>
            <p class="hero-description">鳥類と環境の間の複雑で魅力的な関係を探求してください。鳥類生態学は、鳥類がさまざまな生息地にどのように適応するか、生態系での役割、環境変化が鳥類個体群に与える影響を研究します。</p>
        </div>
    </section>

    <!-- Articles Grid -->
    <section class="articles-section">
        <div class="container">
            <div class="articles-grid">
                <article class="article-card" onclick="addLanguageParam(event, this)" data-href="ecology/01-habitat-ecosystems.html">
                    <div class="article-image">
                        <img src="../images/ecology/habitat-ecosystems.webp" alt="生息地と生態系" loading="lazy">
                    </div>
                    <div class="article-content">
                        <h3 class="article-title">生息地と生態系</h3>
                        <p class="article-description">鳥類生息地の多様性と生態系機能の理解</p>
                        <div class="article-meta">
                            <span class="read-time">⏱️ 8分で読める</span>
                        </div>
                    </div>
                </article>

                <article class="article-card" onclick="addLanguageParam(event, this)" data-href="ecology/02-food-webs-chains.html">
                    <div class="article-image">
                        <img src="../images/ecology/food-webs-chains.webp" alt="食物網と食物連鎖" loading="lazy">
                    </div>
                    <div class="article-content">
                        <h3 class="article-title">食物網と食物連鎖</h3>
                        <p class="article-description">食物網における鳥類の重要な位置と役割の探求</p>
                        <div class="article-meta">
                            <span class="read-time">⏱️ 7分で読める</span>
                        </div>
                    </div>
                </article>

                <article class="article-card" onclick="addLanguageParam(event, this)" data-href="ecology/03-migration-patterns.html">
                    <div class="article-image">
                        <img src="../images/ecology/migration-patterns.webp" alt="渡りのパターン" loading="lazy">
                    </div>
                    <div class="article-content">
                        <h3 class="article-title">渡りのパターン</h3>
                        <p class="article-description">鳥類の渡りの複雑なパターンと生態学的意義の研究</p>
                        <div class="article-meta">
                            <span class="read-time">⏱️ 9分で読める</span>
                        </div>
                    </div>
                </article>

                <article class="article-card" onclick="addLanguageParam(event, this)" data-href="ecology/04-breeding-ecology.html">
                    <div class="article-image">
                        <img src="../images/ecology/breeding-ecology.webp" alt="繁殖生態学" loading="lazy">
                    </div>
                    <div class="article-content">
                        <h3 class="article-title">繁殖生態学</h3>
                        <p class="article-description">鳥類の繁殖行動と生態学的戦略の理解</p>
                        <div class="article-meta">
                            <span class="read-time">⏱️ 8分で読める</span>
                        </div>
                    </div>
                </article>

                <article class="article-card" onclick="addLanguageParam(event, this)" data-href="ecology/05-climate-change-impact.html">
                    <div class="article-image">
                        <img src="../images/ecology/climate-change-impact.webp" alt="気候変動の影響" loading="lazy">
                    </div>
                    <div class="article-content">
                        <h3 class="article-title">気候変動の影響</h3>
                        <p class="article-description">気候変動が鳥類生態に与える深刻な影響の分析</p>
                        <div class="article-meta">
                            <span class="read-time">⏱️ 10分で読める</span>
                        </div>
                    </div>
                </article>

                <article class="article-card" onclick="addLanguageParam(event, this)" data-href="ecology/06-urban-ecology.html">
                    <div class="article-image">
                        <img src="../images/ecology/urban-ecology.webp" alt="都市生態学" loading="lazy">
                    </div>
                    <div class="article-content">
                        <h3 class="article-title">都市生態学</h3>
                        <p class="article-description">鳥類が都市環境にどのように適応するかの探求</p>
                        <div class="article-meta">
                            <span class="read-time">⏱️ 7分で読める</span>
                        </div>
                    </div>
                </article>

                <article class="article-card" onclick="addLanguageParam(event, this)" data-href="ecology/07-conservation-biology.html">
                    <div class="article-image">
                        <img src="../images/ecology/conservation-biology.webp" alt="保全生物学" loading="lazy">
                    </div>
                    <div class="article-content">
                        <h3 class="article-title">保全生物学</h3>
                        <p class="article-description">鳥類保全の科学的原理と実用的方法の学習</p>
                        <div class="article-meta">
                            <span class="read-time">⏱️ 9分で読める</span>
                        </div>
                    </div>
                </article>

                <article class="article-card" onclick="addLanguageParam(event, this)" data-href="ecology/08-island-biogeography.html">
                    <div class="article-image">
                        <img src="../images/ecology/island-biogeography.webp" alt="島嶼生物地理学" loading="lazy">
                    </div>
                    <div class="article-content">
                        <h3 class="article-title">島嶼生物地理学</h3>
                        <p class="article-description">島嶼環境における鳥類分布と進化の研究</p>
                        <div class="article-meta">
                            <span class="read-time">⏱️ 8分で読める</span>
                        </div>
                    </div>
                </article>

                <article class="article-card" onclick="addLanguageParam(event, this)" data-href="ecology/09-pollination-seed-dispersal.html">
                    <div class="article-image">
                        <img src="../images/ecology/pollination-seed-dispersal.webp" alt="受粉と種子散布" loading="lazy">
                    </div>
                    <div class="article-content">
                        <h3 class="article-title">受粉と種子散布</h3>
                        <p class="article-description">植物繁殖における鳥類の重要な役割の理解</p>
                        <div class="article-meta">
                            <span class="read-time">⏱️ 7分で読める</span>
                        </div>
                    </div>
                </article>

                <article class="article-card" onclick="addLanguageParam(event, this)" data-href="ecology/10-community-dynamics.html">
                    <div class="article-image">
                        <img src="../images/ecology/community-dynamics.webp" alt="群集動態" loading="lazy">
                    </div>
                    <div class="article-content">
                        <h3 class="article-title">群集動態</h3>
                        <p class="article-description">鳥類群集の構造と動的変化の探求</p>
                        <div class="article-meta">
                            <span class="read-time">⏱️ 8分で読める</span>
                        </div>
                    </div>
                </article>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <img src="../images/logo.png" alt="BirdAiSnap Logo" class="footer-logo-img">
                        <span class="footer-logo-text">BirdAiSnap</span>
                    </div>
                    <p class="footer-tagline">スマート認識、自然を探求</p>
                </div>
                
                <div class="footer-section">
                    <h4>製品</h4>
                    <ul>
                        <li><a href="#download">アプリダウンロード</a></li>
                        <li><a href="../knowledge.html">機能</a></li>
                        <li><a href="#guide">ユーザーガイド</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>サポート</h4>
                    <ul>
                        <li><a href="#help">ヘルプセンター</a></li>
                        <li><a href="#feedback">フィードバック</a></li>
                        <li><a href="#privacy">プライバシーポリシー</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>お問い合わせ</h4>
                    <ul>
                        <li><a href="mailto:support@birdaisnap.com">メール相談</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2024 BirdAiSnap. 全著作権所有</p>
            </div>
        </div>
    </footer>

    <script src="../language-redirect.js"></script>
    <script>
        function toggleLanguageMenu() {
            const menu = document.getElementById('languageMenu');
            menu.classList.toggle('active');
        }

        function changeLanguage(langCode) {
            localStorage.setItem('selectedLanguage', langCode);
            const currentPath = window.location.pathname;
            const currentSearch = window.location.search;
            
            let newPath;
            if (langCode === 'en') {
                newPath = '../ecology.html';
            } else {
                newPath = `../${langCode}/ecology.html`;
            }
            
            const separator = newPath.includes('?') ? '&' : '?';
            window.location.href = newPath + separator + 'lang=' + langCode;
        }

        function addLanguageParam(event, element) {
            event.preventDefault();
            const currentLang = localStorage.getItem('selectedLanguage') || 'ja';
            const articlePath = element.getAttribute('data-href');
            
            let fullPath;
            if (currentLang === 'en') {
                fullPath = '../en/' + articlePath;
            } else {
                fullPath = '../' + currentLang + '/' + articlePath;
            }
            
            const separator = fullPath.includes('?') ? '&' : '?';
            window.location.href = fullPath + separator + 'lang=' + currentLang;
        }

        // Close language menu when clicking outside
        document.addEventListener('click', function(event) {
            const dropdown = document.querySelector('.lang-dropdown');
            const menu = document.getElementById('languageMenu');
            
            if (!dropdown.contains(event.target)) {
                menu.classList.remove('active');
            }
        });

        // Initialize mobile navigation
        document.addEventListener('DOMContentLoaded', function() {
            const hamburger = document.querySelector('.hamburger');
            const navMenu = document.querySelector('.nav-menu');

            if (hamburger && navMenu) {
                hamburger.addEventListener('click', function() {
                    hamburger.classList.toggle('active');
                    navMenu.classList.toggle('active');
                });

                document.querySelectorAll('.nav-link').forEach(n => n.addEventListener('click', () => {
                    hamburger.classList.remove('active');
                    navMenu.classList.remove('active');
                }));
            }

            // Set current language on page load
            const urlParams = new URLSearchParams(window.location.search);
            const urlLang = urlParams.get('lang');
            if (urlLang) {
                localStorage.setItem('selectedLanguage', urlLang);
                document.getElementById('currentLang').textContent = urlLang.toUpperCase();
                
                // Update active language option
                document.querySelectorAll('.lang-option').forEach(option => {
                    option.classList.remove('active');
                    if (option.getAttribute('onclick').includes(urlLang)) {
                        option.classList.add('active');
                    }
                });
            }
        });
    </script>
</body>
</html>